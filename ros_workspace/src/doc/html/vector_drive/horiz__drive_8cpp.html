<html><head><meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<title>vector_drive: horiz_drive.cpp File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head>
<body onload='searchBox.OnSelectItem(0);'>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_db5befee8b9db42b207da376763284c2.html">vector_drive</a></li><li class="navelem"><a class="el" href="dir_e681c1c6ea03fb9da42b60a5374b4a94.html">src</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">horiz_drive.cpp File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><code>#include &lt;ros/ros.h&gt;</code><br />
<code>#include &lt;geometry_msgs/Twist.h&gt;</code><br />
<code>#include &quot;vector_drive/thrusterPercents.h&quot;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for horiz_drive.cpp:</div>
<div class="dyncontent">
<div class="center"><img src="horiz__drive_8cpp__incl.png" border="0" usemap="#horiz__drive_8cpp" alt=""/></div>
</div>
</div>
<p><a href="horiz__drive_8cpp_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a39f16bf854ba527dee7eba5bbbd93f3f"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a39f16bf854ba527dee7eba5bbbd93f3f"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a39f16bf854ba527dee7eba5bbbd93f3f">abs</a> (T value)</td></tr>
<tr class="separator:a39f16bf854ba527dee7eba5bbbd93f3f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab824c364ca3fc96af9ae48d02e9700e2"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#ab824c364ca3fc96af9ae48d02e9700e2">commandVectorCallback</a> (const geometry_msgs::Twist::ConstPtr &amp;vel)</td></tr>
<tr class="separator:ab824c364ca3fc96af9ae48d02e9700e2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab4097212fd58e3bc82f207e02ad07bbc"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:ab4097212fd58e3bc82f207e02ad07bbc"><td class="memTemplItemLeft" align="right" valign="top">void&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#ab4097212fd58e3bc82f207e02ad07bbc">constrain</a> (T &amp;value, T <a class="el" href="vert__drive_8cpp.html#a63bddbf27a50a67c582c25f41ec35176">min</a>, T <a class="el" href="vert__drive_8cpp.html#a7d52f52ce2e66a99dcbf556869928f14">max</a>)</td></tr>
<tr class="separator:ab4097212fd58e3bc82f207e02ad07bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a3c04138a5bfe5d72780bb7e82a18e627">main</a> (int argc, char **argv)</td></tr>
<tr class="separator:a3c04138a5bfe5d72780bb7e82a18e627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6fc1ed0db7f60b01c207d315c2df7bbc"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a6fc1ed0db7f60b01c207d315c2df7bbc"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a6fc1ed0db7f60b01c207d315c2df7bbc">map</a> (T input, T inMin, T inMax, T outMin, T outMax)</td></tr>
<tr class="separator:a6fc1ed0db7f60b01c207d315c2df7bbc"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7d52f52ce2e66a99dcbf556869928f14"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a7d52f52ce2e66a99dcbf556869928f14"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a7d52f52ce2e66a99dcbf556869928f14">max</a> (T value1, T value2)</td></tr>
<tr class="separator:a7d52f52ce2e66a99dcbf556869928f14"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a63bddbf27a50a67c582c25f41ec35176"><td class="memTemplParams" colspan="2">template&lt;class T &gt; </td></tr>
<tr class="memitem:a63bddbf27a50a67c582c25f41ec35176"><td class="memTemplItemLeft" align="right" valign="top">T&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a63bddbf27a50a67c582c25f41ec35176">min</a> (T value1, T value2)</td></tr>
<tr class="separator:a63bddbf27a50a67c582c25f41ec35176"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad24c638cbe4f5f42f99524bb5bdf6943"><td class="memItemLeft" align="right" valign="top">const vector_drive::thrusterPercents &amp;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#ad24c638cbe4f5f42f99524bb5bdf6943">vectorMath</a> (const double &amp;linearX, const double &amp;linearY, const double &amp;angularX)</td></tr>
<tr class="separator:ad24c638cbe4f5f42f99524bb5bdf6943"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:a350594df3e8f6948c8462edfd41ce086"><td class="memItemLeft" align="right" valign="top">ros::Publisher&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a350594df3e8f6948c8462edfd41ce086">pub</a></td></tr>
<tr class="memdesc:a350594df3e8f6948c8462edfd41ce086"><td class="mdescLeft">&#160;</td><td class="mdescRight">Publishes thrusterPercent (-1000 to 1000) message for thruster 1, 2, 3, and 4.  <a href="#a350594df3e8f6948c8462edfd41ce086">More...</a><br /></td></tr>
<tr class="separator:a350594df3e8f6948c8462edfd41ce086"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a24d694a9a8bf73ee31fe92724886a276"><td class="memItemLeft" align="right" valign="top">ros::Subscriber&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a24d694a9a8bf73ee31fe92724886a276">sub</a></td></tr>
<tr class="memdesc:a24d694a9a8bf73ee31fe92724886a276"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subscribes to rov/cmd_vel in order to get command/control vectors for vector drive algorithm.  <a href="#a24d694a9a8bf73ee31fe92724886a276">More...</a><br /></td></tr>
<tr class="separator:a24d694a9a8bf73ee31fe92724886a276"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a53a132e869d49dd183d192ed81a9138d"><td class="memItemLeft" align="right" valign="top">vector_drive::thrusterPercents&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="horiz__drive_8cpp.html#a53a132e869d49dd183d192ed81a9138d">thrustPercents</a></td></tr>
<tr class="memdesc:a53a132e869d49dd183d192ed81a9138d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Message being published by pub.  <a href="#a53a132e869d49dd183d192ed81a9138d">More...</a><br /></td></tr>
<tr class="separator:a53a132e869d49dd183d192ed81a9138d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="a39f16bf854ba527dee7eba5bbbd93f3f"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T abs </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the absolute value of value </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>the absolute value of value input </dd></dl>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00048">48</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab824c364ca3fc96af9ae48d02e9700e2"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void commandVectorCallback </td>
          <td>(</td>
          <td class="paramtype">const geometry_msgs::Twist::ConstPtr &amp;&#160;</td>
          <td class="paramname"><em>vel</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>updates control percents, runs vectorMath, updates thruster percents, and publishes the updates thruster percents to the rov/cmd_horizontal_vdrive topic </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">vel</td><td>Input from the joystick, ros_control_interface and ROS Control PID algorithms </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00152">152</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab4097212fd58e3bc82f207e02ad07bbc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">void constrain </td>
          <td>(</td>
          <td class="paramtype">T &amp;&#160;</td>
          <td class="paramname"><em>value</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>min</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>max</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>constrians value between min and max inclusive. Value is returned by reference. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in,out]</td><td class="paramname">value</td><td>input to be constrianed </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">min</td><td>The minimum value that "value" should be able to be </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">max</td><td>The maximum value that "value" should be able to be </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00034">34</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a3c04138a5bfe5d72780bb7e82a18e627"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int main </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>argc</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char **&#160;</td>
          <td class="paramname"><em>argv</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00171">171</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6fc1ed0db7f60b01c207d315c2df7bbc"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T map </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>input</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>inMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>inMax</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>outMin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>outMax</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns a number mapped proportioanlly from one range of numbers to another </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">input</td><td>Value to be mapped </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inMax</td><td>The maximum value for the range of the input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">inMin</td><td>The minimum value for the range of the input </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outMin</td><td>The minimum value for the range of the output </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">outMax</td><td>The maximum value for the range of the output </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The input trnslated proportionally from range in to range out </dd></dl>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00090">90</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a7d52f52ce2e66a99dcbf556869928f14"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T max </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the larger number between vlaue1 and value2 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value1</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value2</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The larger of the two values </dd></dl>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00061">61</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a63bddbf27a50a67c582c25f41ec35176"></a>
<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;class T &gt; </div>
      <table class="memname">
        <tr>
          <td class="memname">T min </td>
          <td>(</td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">T&#160;</td>
          <td class="paramname"><em>value2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>returns the smaller number between value1 and value2 </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">value1</td><td></td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">value2</td><td></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The smaller of the two values </dd></dl>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00074">74</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ad24c638cbe4f5f42f99524bb5bdf6943"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const vector_drive::thrusterPercents&amp; vectorMath </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>linearX</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>linearY</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>angularX</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Takes in linearX, linearY, and anguarX percents (-1 to 1) and translates tham to indvidual thrusters percents from -1000 to 1000. These percents are for thrusters T1, T2, T3, and T4. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">linearX</td><td>Equivalent to the left-right axis of the joystick </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">linearY</td><td>Equivalent to the front-back axis of the joystick </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">angularX</td><td>Equivalent to the rotational/angular axis of the joystick </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Const vector_drive/thrusterPercents message ready to be published to the rov/cmd_horizontal_vdrive topic </dd></dl>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00102">102</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Variable Documentation</h2>
<a class="anchor" id="a350594df3e8f6948c8462edfd41ce086"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::Publisher pub</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Publishes thrusterPercent (-1000 to 1000) message for thruster 1, 2, 3, and 4. </p>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00020">20</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a24d694a9a8bf73ee31fe92724886a276"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ros::Subscriber sub</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Subscribes to rov/cmd_vel in order to get command/control vectors for vector drive algorithm. </p>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00021">21</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a53a132e869d49dd183d192ed81a9138d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">vector_drive::thrusterPercents thrustPercents</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Message being published by pub. </p>

<p>Definition at line <a class="el" href="horiz__drive_8cpp_source.html#l00023">23</a> of file <a class="el" href="horiz__drive_8cpp_source.html">horiz_drive.cpp</a>.</p>

</div>
</div>
</div><!-- contents -->

<br clear="all" />
<hr size="1"><div style="align: right;">
<a href="http://wiki.ros.org/vector_drive">vector_drive</a><br />
Author(s): </br />
<small>autogenerated on Sun Aug 12 2018 14:06:23</small>
</div>
</body>
</html>
